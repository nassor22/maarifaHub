# Environment Configuration for Digital Ocean Deployment
# Copy this file to .env.digitalocean and fill in your values

# ============================================
# Node Environment
# ============================================
NODE_ENV=production

# ============================================
# Server Configuration
# ============================================
PORT=5000

# ============================================
# MongoDB Configuration
# ============================================
# MongoDB connection string
# Format: mongodb://username:password@host:port/database?authSource=admin
MONGODB_URI=mongodb://admin:YOUR_SECURE_PASSWORD@mongodb:27017/maarifahub?authSource=admin

# MongoDB initialization (for first-time setup)
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=YOUR_SECURE_PASSWORD
MONGO_INITDB_DATABASE=maarifahub

# ============================================
# JWT Configuration
# ============================================
# IMPORTANT: Generate a secure random string (minimum 32 characters)
# You can generate one using: openssl rand -base64 32
JWT_SECRET=your_very_long_random_jwt_secret_at_least_32_characters_long

# JWT token expiration (e.g., 7d, 30d, 90d)
JWT_EXPIRE=7d

# ============================================
# CORS Configuration
# ============================================
# Your domain or IP address (no trailing slash)
# Examples:
# - With domain: https://maarifahub.com
# - With IP: http://your.droplet.ip.address
# - Multiple origins: https://maarifahub.com,https://www.maarifahub.com
CORS_ORIGIN=https://yourdomain.com

# ============================================
# Frontend Configuration
# ============================================
# API URL that the frontend will use to connect to backend
# This should match your domain or droplet IP
# Examples:
# - With domain: https://yourdomain.com/api
# - With IP: http://your.droplet.ip.address/api
VITE_API_URL=https://yourdomain.com/api

# ============================================
# Optional: Email Configuration (for future features)
# ============================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@maarifahub.com

# ============================================
# Optional: File Upload Configuration
# ============================================
# MAX_FILE_SIZE=10485760  # 10MB in bytes
# UPLOAD_DIR=/app/uploads

# ============================================
# Optional: Logging Configuration
# ============================================
# LOG_LEVEL=info
# LOG_FILE=/app/logs/app.log

# ============================================
# Optional: Session Configuration
# ============================================
# SESSION_SECRET=another_secure_random_string
# SESSION_MAX_AGE=86400000  # 24 hours in milliseconds

# ============================================
# IMPORTANT SECURITY NOTES:
# ============================================
# 1. Never commit this file with real values to Git
# 2. Use strong, unique passwords for MongoDB
# 3. Generate a secure JWT secret (minimum 32 characters)
# 4. Change default passwords immediately after first deployment
# 5. Restrict CORS_ORIGIN to your actual domain in production
# 6. Keep backups of this file in a secure location
# 7. Rotate secrets periodically (JWT, database passwords)
#
# To generate secure random strings:
# - openssl rand -base64 32
# - pwgen -s 64 1
# - node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
